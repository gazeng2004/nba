from nba_api.stats.static import players
from nba_api.stats.endpoints import playercareerstats 

"""
PlayerCareerStats can produce a dataframe that list out the average of the currents 
"""
active_player = players.get_active_players()
for player in active_player:
    try:
        player_stats = playercareerstats.PlayerCareerStats(player_id=player['id'])
        career_data = player_stats.get_data_frames()

        if career_data:
            career_totals = career_data[0]  # Assuming the first DataFrame contains career totals
            print(f"Stats for {player['full_name']}:\n", career_totals.tail(1))
    except Exception as e:
        print(f"Failed to fetch stats for {player['full_name']} ({player['id']}): {e}")
    #print(player_stats.career_totals_regular_season)
